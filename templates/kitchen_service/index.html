{% extends "base.html" %}
{% load static %}
{% load dish_tags %}

{% block title %}
Home / Kitchen Service
{% endblock title %}

{% block content %}

<!-- Spinner Start -->
{% include 'includes/spinner.html' %}
<!-- Spinner End -->

<!-- Navbar & Hero Start -->
<div class="container-xxl position-relative p-0">
  {% include 'includes/navbar.html' %}
  <div class="container-xxl py-5 bg-dark hero-header mb-5">
    <div class="container my-5 py-5">
      <div class="row align-items-center g-5">
        <div class="col-lg-6 text-center text-lg-start">
          <h1 class="display-3 text-white animated slideInLeft">Enjoy Our<br>Delicious Meal</h1>
          <p class="text-white animated slideInLeft mb-4 pb-2">Our restaurant offers unique dishes prepared
            from the freshest ingredients, with love and attention to each guest.
            We are proud of our high level of service and a team of professional chefs ready to surprise
            you.
            Come and experience the real taste of culinary art!</p>
        </div>
        <div class="col-lg-6 text-center text-lg-end overflow-hidden">
          <img class="img-fluid" src="{% static 'img/hero.png' %}">
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Navbar & Hero End -->

<!-- About Start -->
{% include 'includes/about_us.html' %}
<!-- About End -->

<!-- Menu Start -->
<div class="container-xxl py-5">
  <div class="container">
    <div class="text-center wow fadeInUp" data-wow-delay="0.1s">
      <h5 class="section-title ff-secondary text-center text-primary fw-normal">Food Menu</h5>
      <h1 class="mb-5">Most Popular Dishes</h1>
    </div>
    <div class="tab-class text-center wow fadeInUp" data-wow-delay="0.1s">
      <ul class="nav nav-pills d-inline-flex justify-content-center border-bottom mb-5">
        <li class="nav-item">
          <a class="d-flex align-items-center text-start mx-3 ms-0 pb-3 active" data-bs-toggle="pill"
             href="#tab-1">
            <i class="fa fa-coffee fa-2x text-primary"></i>
            <div class="ps-3">
              <small class="text-body">Popular</small>
              <h6 class="mt-n1 mb-0">Breakfast</h6>
            </div>
          </a>
        </li>
        <li class="nav-item">
          <a class="d-flex align-items-center text-start mx-3 pb-3" data-bs-toggle="pill" href="#tab-2">
            <i class="fa fa-hamburger fa-2x text-primary"></i>
            <div class="ps-3">
              <small class="text-body">Special</small>
              <h6 class="mt-n1 mb-0">Launch</h6>
            </div>
          </a>
        </li>
        <li class="nav-item">
          <a class="d-flex align-items-center text-start mx-3 me-0 pb-3" data-bs-toggle="pill"
             href="#tab-3">
            <i class="fa fa-utensils fa-2x text-primary"></i>
            <div class="ps-3">
              <small class="text-body">Lovely</small>
              <h6 class="mt-n1 mb-0">Dinner</h6>
            </div>
          </a>
        </li>
      </ul>

      <div class="tab-content">
        <div id="tab-1" class="tab-pane fade show p-0 active">
          <div class="row g-4">
            {% popular_breakfasts as breakfasts %}
            {% for dish in breakfasts %}
            <div class="col-lg-12 d-flex align-items-stretch">
              <div class="w-100 d-flex flex-column justify-content-between"
                   style="padding: 20px; margin-bottom: 20px; min-height: 300px; position: relative;">
                <div class="d-flex">
                  <img class="flex-shrink-0 img-fluid rounded" src="{{ dish.image.url }}"
                       alt="{{ dish.name }}" style="width: 200px; height: 200px; object-fit: cover;">
                  <div class="w-100 d-flex flex-column text-start ps-3">
                    <h5 class="d-flex justify-content-between border-bottom pb-2">
                      <span>{{ dish.name }}</span>
                      <span class="text-primary">${{ dish.price }}</span>
                    </h5>
                    <small class="fst-italic">{{ dish.description }}</small>
                  </div>
                </div>
                <div class="d-flex justify-content-end" style="margin-top: 10px;">
                  <a class="btn btn-primary btn-sm" href="{{ dish.get_absolute_url }}"
                     style="text-transform: none; font-size: 12px;">
                    Order a dish
                  </a>
                </div>
              </div>
            </div>
          </div>
          {% endfor %}
        </div>

        <div id="tab-2" class="tab-pane fade show p-0">
          <div class="row g-4">
            {% popular_lunches as lunches %}
            {% for dish in lunches %}
            <div class="col-lg-12 d-flex align-items-stretch">
              <div class="w-100 d-flex flex-column justify-content-between"
                   style="padding: 20px; margin-bottom: 20px; min-height: 300px; position: relative;">
                <div class="d-flex">
                  <img class="flex-shrink-0 img-fluid rounded" src="{{ dish.image.url }}"
                       alt="{{ dish.name }}" style="width: 200px; height: 200px; object-fit: cover;">
                  <div class="w-100 d-flex flex-column text-start ps-3">
                    <h5 class="d-flex justify-content-between border-bottom pb-2">
                      <span>{{ dish.name }}</span>
                      <span class="text-primary">${{ dish.price }}</span>
                    </h5>
                    <small class="fst-italic">{{ dish.description }}</small>
                  </div>
                </div>
                <div class="d-flex justify-content-end" style="margin-top: 10px;">
                  <a class="btn btn-primary btn-sm" href="{{ dish.get_absolute_url }}"
                     style="text-transform: none; font-size: 12px;">
                    Order a dish
                  </a>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
        </div>

        <div id="tab-3" class="tab-pane fade show p-0">
          <div class="row g-4">
            {% popular_dinners as dinners %}
            {% for dish in dinners %}
            <div class="col-lg-12 d-flex align-items-stretch">
              <div class="w-100 d-flex flex-column justify-content-between"
                   style="padding: 20px; margin-bottom: 20px; min-height: 300px; position: relative;">
                <div class="d-flex">
                  <img class="flex-shrink-0 img-fluid rounded" src="{{ dish.image.url }}"
                       alt="{{ dish.name }}" style="width: 200px; height: 200px; object-fit: cover;">
                  <div class="w-100 d-flex flex-column text-start ps-3">
                    <h5 class="d-flex justify-content-between border-bottom pb-2">
                      <span>{{ dish.name }}</span>
                      <span class="text-primary">${{ dish.price }}</span>
                    </h5>
                    <small class="fst-italic">{{ dish.description }}</small>
                  </div>
                </div>
                <div class="d-flex justify-content-end" style="margin-top: 10px;">
                  <a class="btn btn-primary btn-sm" href="{{ dish.get_absolute_url }}"
                     style="text-transform: none; font-size: 12px;">
                    Order a dish
                  </a>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
        </div>

      </div>
    </div>
  </div>
</div>
<!-- Menu End -->

<!-- Team Start  -->
{% include 'includes/team.html' %}
<!-- Team End -->

<!-- Footer Start -->
{% include 'includes/footer.html' %}
<!-- Footer End -->

<!-- Back to Top -->
{% include 'includes/back_to_top.html' %}
<!-- Back to Top End-->

{% endblock content %}

{% block JavaScript %}
<!-- This script loads all cooks when the 'View More' button is clicked -->
<script>
  document.getElementById('load-more').addEventListener('click', function() {
    var xhr = new XMLHttpRequest();
    var url = window.location.pathname + '?show_all_cooks=1';
    xhr.open('GET', url, true);
    xhr.onload = function() {
      if (xhr.status === 200) {
        var parser = new DOMParser();
        var doc = parser.parseFromString(xhr.responseText, 'text/html');
        var newCooksContainer = doc.getElementById('cooks-container');
        document.getElementById('cooks-container').innerHTML = newCooksContainer.innerHTML;
        document.getElementById('load-more').style.display = 'none';
      }
    };
    xhr.send();
  });
</script>
{% endblock JavaScript %}
